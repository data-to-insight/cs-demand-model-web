{"version":3,"file":"static/js/266.4fa11c67.chunk.js","mappings":"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","sources":["utils/authorityData.ts","pages/Start/Start.tsx","Landing.tsx","utils/analytics.ts"],"sourcesContent":["import authorities from \"quality-lac-data-ref-authorities/qlacref_authorities/records.json\";\n\nexport type LaData = {\n  la_id: string;\n  la_name: string;\n};\nexport type LaMap = {\n  [key: string]: LaData;\n};\n\nconst laReducer = (map: LaMap, value: LaData): LaMap => {\n  map[value.la_id] = value;\n  return map;\n};\n\nexport const laMap = authorities\n  .map((x) => {\n    return {\n      la_id: x.UTLA21CD,\n      la_name: x.UTLA21NM,\n    };\n  })\n  .reduce(laReducer, {});\n\nexport const laData = Object.values(laMap).sort((a, b) =>\n  a.la_name > b.la_name ? 1 : -1\n);\n","/** @jsxImportSource @emotion/react */\n\nimport React, { useState } from \"react\";\nimport {\n  Box,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  SelectChangeEvent,\n  Typography,\n  Button,\n  Grid,\n} from \"@mui/material\";\n\nimport { Block } from \"@sfdl/sf-mui-components\";\nimport { laData } from \"utils/authorityData\";\n\ndeclare global {\n  interface Window {\n    _gaq: any;\n  }\n}\n\ninterface StartPageProps {\n  onClick: () => void;\n}\n\nconst Start = (props: StartPageProps) => {\n  const handleButtonClick = () => {\n    try {\n      //@ts-ignore\n      gtag(\"event\", \"cin-la-select\", {\n        localAuthority,\n        localAuthorityName: laData.filter((la) => {\n          return la.la_id === localAuthority;\n        })[0].la_name,\n        event_callback: () => {\n          props.onClick();\n        },\n        debug_mode: true,\n      });\n    } catch (err) {\n      console.log(err);\n      props.onClick();\n    }\n  };\n\n  const [localAuthority, setLocalAuthority] = useState<string>(\"\");\n  const renderDropdown = () => {\n    return (\n      <FormControl fullWidth>\n        <InputLabel id=\"la-select-label\">Choose local authority</InputLabel>\n        <Select\n          value={localAuthority}\n          labelId=\"la-select-label\"\n          label=\"Choose local authority\"\n          onChange={(event: SelectChangeEvent) => {\n            setLocalAuthority(event.target.value as string);\n          }}\n        >\n          {laData.map((laItem) => {\n            return (\n              <MenuItem value={laItem.la_id} key={laItem.la_id}>\n                {laItem.la_name}\n              </MenuItem>\n            );\n          })}\n        </Select>\n      </FormControl>\n    );\n  };\n\n  return (\n    <Box flexGrow={1}>\n      <Block>\n        <Typography variant=\"body1\">\n          Data to Insight is a national project led by local authorities with\n          support from the ADCS, DLUHC, DfE and Ofsted to help local authorities\n          make better use of data.\n        </Typography>\n      </Block>\n\n      <Block>\n        <Typography variant=\"body1\">\n          This tool automatically forecasts demand for childrenâ€™s services\n          placements so that commissioners can conduct sufficiency analyses,\n          secure appropriate budgets for services and demonstrate the business\n          case for a new or changed service.\n        </Typography>\n      </Block>\n\n      <Block spacing={\"blockLarge\"}>\n        <Grid container spacing={2}>\n          <Grid item xs={6}>\n            {renderDropdown()}\n          </Grid>\n        </Grid>\n      </Block>\n\n      <Block spacing={\"blockLarge\"}>\n        <Button\n          onClick={handleButtonClick}\n          variant=\"contained\"\n          sx={{ boxShadow: 0 }}\n          disabled={localAuthority === \"\"}\n        >\n          Start\n        </Button>\n      </Block>\n    </Box>\n  );\n};\n\nexport default Start;","import React from \"react\";\nimport { Container, Body, theme as SFTheme } from \"@sfdl/sf-mui-components\";\nimport { Start } from \"pages\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport { GatedProps } from \"@sfdl/sf-cookie-gate\";\nimport { loadAnalytics } from \"utils/analytics\";\n\nconst theme = createTheme(SFTheme);\nconst GATagID = process.env.REACT_APP_GA_MEASUREMENT_ID;\n\nif (GATagID) {\n  loadAnalytics(GATagID);\n}\n\ntype LandingProps = {} & GatedProps;\n\nconst Landing = (props: LandingProps) => {\n  const handleClick = () => {\n    props.setCookieHandler();\n    window.location.reload();\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Container>\n        <Body title=\"CLA Placement Demand Modelling Tool\">\n          <Start\n            onClick={() => {\n              handleClick();\n            }}\n          />\n        </Body>\n      </Container>\n    </ThemeProvider>\n  );\n};\n\nexport default Landing;\n","export const loadAnalytics = (tagId: string): void => {\n  let ga = document.createElement(\"script\");\n  ga.type = \"text/javascript\";\n  ga.async = true;\n  ga.src =\n    (\"https:\" === document.location.protocol ? \"https://www\" : \"http://www\") +\n    `.googletagmanager.com/gtag/js?id=${tagId}`;\n  ga.onload = (evt: Event) => {\n    let integration = document.createElement(\"script\");\n    integration.type = \"text/javascript\";\n    integration.innerHTML = `window.dataLayer = window.dataLayer || []; function gtag() {dataLayer.push(arguments);}gtag(\"js\", new Date());gtag(\"config\", \"${tagId}\")`;\n    const s = document.getElementsByTagName(\"script\")[0];\n    s?.parentNode?.insertBefore(integration, s);\n  };\n  const s = document.getElementsByTagName(\"script\")[0];\n  s?.parentNode?.insertBefore(ga, s);\n};"],"names":["laMap","authorities","x","la_id","UTLA21CD","la_name","UTLA21NM","reduce","map","value","laData","Object","values","sort","a","b","props","useState","localAuthority","setLocalAuthority","Box","flexGrow","Typography","variant","spacing","Grid","container","item","xs","FormControl","fullWidth","InputLabel","id","Select","labelId","label","onChange","event","target","laItem","MenuItem","Button","onClick","gtag","localAuthorityName","filter","la","event_callback","debug_mode","err","console","log","sx","boxShadow","disabled","theme","createTheme","SFTheme","GATagID","process","tagId","ga","document","createElement","type","async","src","location","protocol","onload","evt","integration","innerHTML","s","getElementsByTagName","parentNode","insertBefore","loadAnalytics","ThemeProvider","title","setCookieHandler","window","reload"],"sourceRoot":""}